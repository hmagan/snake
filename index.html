<!DOCTYPE html>
<html>
    <canvas id="canvas" width="700px" height="700px"></canvas>
    
    <script type="text/javascript" src="snake.js"></script>
    <script type="text/javascript" src="board.js"></script>
    <script>
        let snake = new Snake();
        let board = new Board();
        function update(){
            snake.update(board);
        }
        let game = setInterval(update, 100);
        let gameChecker = setInterval(function(){
            if(snake.isFinished()){
                board.gameOver(snake.length);
                clearInterval(game);
                clearInterval(gameChecker);
            }
        }, 100);
        document.addEventListener('keydown', function(event) {
            if(!snake.getAlreadyMoved()){
                //up
                if(event.keyCode === 87 || event.keyCode === 38) {
                    snake.move(0, -1);
                }
                //down
                if(event.keyCode === 83 || event.keyCode === 40) {
                    snake.move(0, 1);
                }
                //right
                if(event.keyCode === 68 || event.keyCode === 39) {
                    snake.move(1, 0);
                }
                //left
                if(event.keyCode === 65 || event.keyCode === 37) {
                    snake.move(-1, 0);
                }
            }
        });
    </script>
    <style>
        canvas {
            background-color: grey;
            border: 10px solid black;
            padding-top: 5px;
            padding-left: 5px;
        }
    </style>
</html>